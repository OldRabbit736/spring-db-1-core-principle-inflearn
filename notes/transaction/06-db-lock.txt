==== DB 락 - 개념 이해 ====
세션1이 트랜잭션을 시작하고 데이터를 수정하는 동안 아직 커밋을 수행하지 않았는데
세션2에서 동시에 같은 데이터를 수정하면 여러가지 문제가 발생한다.
바로 트랜잭션의 원자성 원자성이 깨지는 것이다. (어떤 데이터로 롤백을 해야 하지?)
세션1이 중간에 롤백을 하게되면 세션2는 잘못된 데이터를 수정하는 문제가 발생한다.

이런 문제를 방지하려면, 세션이 트랜잭션을 시작하고 데이터를 수정하는 동안에는 (커밋이나 롤백 전에는)
다른 세션에서 해당 데이터를 수정할 수 없게 막아야 한다.

* 락
- 세션1과 2가 트랜잭션을 시작하고 member1에 대한 변경을 시도한다.
- 세션1가 2보다 약간 빨라서 해당 로우의 락을 획득한다.
- 세션1은 락을 획득했으므로 해당 로우에 update SQL을 수행한다.
- 세션2도 락을 얻으려 하였지만 락이 없으므로 락이 돌아올 때까지 대기한다.
- 세션1은 commit이나 rollback을 수행하고 락을 반환한다.
- 세션2는 락을 얻어 SQL을 수행한다.
- 세션2은 commit이나 rollback을 수행하고 락을 반환한다.

- 참고로 세션2가 락을 무한정 기다리지 않는다. 락 대기 타임아웃이 있고 넘어서면 오류가 발생한다. 락 대기 타임아웃은 설정할 수 있다.



